<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calcolatore Spessori Equivalenti - Isolamento Termico</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
    }
    .header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .header h1 {
      margin: 0 0 10px 0;
      color: #1a202c;
      font-size: 28px;
    }
    .header p {
      margin: 0;
      color: #718096;
      font-size: 16px;
    }
    .card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2d3748;
      font-size: 14px;
    }
    .form-group select,
    .form-group input[type="number"] {
      width: 100%;
      padding: 10px 12px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 15px;
      transition: border-color 0.2s;
    }
    .form-group select:focus,
    .form-group input[type="number"]:focus {
      outline: none;
      border-color: #667eea;
    }
    .form-group input[type="range"] {
      width: 100%;
      margin-top: 8px;
    }
    .result-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      color: white;
    }
    .result-box .value {
      font-size: 36px;
      font-weight: bold;
      margin: 10px 0;
    }
    .result-box .label {
      font-size: 12px;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    .stat-card {
      background: #f7fafc;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }
    .stat-card .stat-value {
      font-size: 28px;
      font-weight: bold;
      color: #667eea;
      margin: 10px 0;
    }
    .stat-card .stat-label {
      font-size: 12px;
      color: #718096;
      text-transform: uppercase;
    }
    .bar-container {
      margin: 15px 0;
    }
    .bar-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 14px;
      color: #4a5568;
    }
    .bar-bg {
      background: #e2e8f0;
      height: 40px;
      border-radius: 20px;
      overflow: hidden;
      position: relative;
    }
    .bar-fill {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding-right: 15px;
      color: white;
      font-weight: bold;
      font-size: 14px;
      transition: width 0.3s ease;
    }
    .bar-fill.primary {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    }
    .bar-fill.secondary {
      background: linear-gradient(90deg, #48bb78 0%, #38a169 100%);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e2e8f0;
    }
    th {
      background: #f7fafc;
      font-weight: 600;
      color: #2d3748;
      font-size: 13px;
      text-transform: uppercase;
    }
    td {
      color: #4a5568;
      font-size: 14px;
    }
    .badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    .badge-excellent { background: #c6f6d5; color: #22543d; }
    .badge-good { background: #bee3f8; color: #2c5282; }
    .badge-fair { background: #feebc8; color: #7c2d12; }
    h2 {
      margin: 0 0 15px 0;
      color: #1a202c;
      font-size: 20px;
    }
    h3 {
      margin: 0 0 15px 0;
      color: #2d3748;
      font-size: 18px;
    }
    .section-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 30px;
      height: 30px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      font-weight: bold;
      margin-right: 10px;
    }
    @media (max-width: 768px) {
      .grid { grid-template-columns: 1fr; }
      .stats { grid-template-columns: 1fr; }
      body { padding: 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üèóÔ∏è Calcolatore Spessori Equivalenti</h1>
      <p>Confronta diversi sistemi di isolamento termico e calcola gli spessori equivalenti</p>
    </div>

    <div class="card">
      <div class="grid">
        <div>
          <h3><span class="section-number">1</span>Materiale di Riferimento</h3>

          <div class="form-group">
            <label for="mat1">Tipo di Materiale</label>
            <select id="mat1">
              <option value="0.031">EPS (Polistirene Espanso)</option>
              <option value="0.002">VIP (Vacuum Insulation Panel)</option>
              <option value="0.015">Aerogel</option>
              <option value="0.023">Poliuretano (PUR)</option>
              <option value="0.028">Polistirene Estruso (XPS)</option>
              <option value="0.035">Lana di Roccia</option>
              <option value="0.038">Fibra di Legno</option>
              <option value="0.040">Sughero</option>
            </select>
          </div>

          <div class="form-group">
            <label for="lambda1">Lambda Œª (W/mK)</label>
            <input type="number" id="lambda1" step="0.001" min="0.001" value="0.031">
          </div>

          <div class="form-group">
            <label for="spessore1">Spessore (mm)</label>
            <input type="number" id="spessore1" step="1" min="1" value="100">
            <input type="range" id="range1" min="10" max="500" value="100">
          </div>
        </div>

        <div>
          <h3><span class="section-number">2</span>Materiale da Confrontare</h3>

          <div class="form-group">
            <label for="mat2">Tipo di Materiale</label>
            <select id="mat2">
              <option value="0.031">EPS (Polistirene Espanso)</option>
              <option value="0.002" selected>VIP (Vacuum Insulation Panel)</option>
              <option value="0.015">Aerogel</option>
              <option value="0.023">Poliuretano (PUR)</option>
              <option value="0.028">Polistirene Estruso (XPS)</option>
              <option value="0.035">Lana di Roccia</option>
              <option value="0.038">Fibra di Legno</option>
              <option value="0.040">Sughero</option>
            </select>
          </div>

          <div class="form-group">
            <label for="lambda2">Lambda Œª (W/mK)</label>
            <input type="number" id="lambda2" step="0.001" min="0.001" value="0.002">
          </div>

          <div class="form-group">
            <label>Spessore Equivalente</label>
            <div class="result-box">
              <div class="label">Spessore Calcolato</div>
              <div class="value" id="spessore2">6.45 mm</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>üìä Risultati del Confronto</h2>
      <div class="stats">
        <div class="stat-card">
          <div class="stat-label">Resistenza Termica</div>
          <div class="stat-value" id="resistenza">3.226</div>
          <div class="stat-label">m¬≤K/W</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Risparmio Spessore</div>
          <div class="stat-value" id="risparmio">93.5%</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Differenza</div>
          <div class="stat-value" id="differenza">93.5 mm</div>
        </div>
      </div>

      <div style="margin-top: 30px;">
        <h3>Confronto Visivo</h3>
        <div class="bar-container">
          <div class="bar-label">
            <span id="label1">Materiale 1</span>
            <span id="value1">100 mm</span>
          </div>
          <div class="bar-bg">
            <div class="bar-fill primary" id="bar1" style="width: 100%">100 mm</div>
          </div>
        </div>

        <div class="bar-container">
          <div class="bar-label">
            <span id="label2">Materiale 2</span>
            <span id="value2">6.45 mm</span>
          </div>
          <div class="bar-bg">
            <div class="bar-fill secondary" id="bar2" style="width: 6.45%">6.45 mm</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>üìã Valori Lambda di Riferimento</h2>
      <table>
        <thead>
          <tr>
            <th>Materiale</th>
            <th>Lambda Œª (W/mK)</th>
            <th>Prestazione</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>VIP (Vacuum Insulation Panel)</td>
            <td>0.002</td>
            <td><span class="badge badge-excellent">Eccellente</span></td>
          </tr>
          <tr>
            <td>Aerogel</td>
            <td>0.015</td>
            <td><span class="badge badge-excellent">Eccellente</span></td>
          </tr>
          <tr>
            <td>Poliuretano (PUR)</td>
            <td>0.023</td>
            <td><span class="badge badge-good">Ottima</span></td>
          </tr>
          <tr>
            <td>Polistirene Estruso (XPS)</td>
            <td>0.028</td>
            <td><span class="badge badge-good">Ottima</span></td>
          </tr>
          <tr>
            <td>EPS (Polistirene Espanso)</td>
            <td>0.031</td>
            <td><span class="badge badge-good">Buona</span></td>
          </tr>
          <tr>
            <td>Lana di Roccia</td>
            <td>0.035</td>
            <td><span class="badge badge-good">Buona</span></td>
          </tr>
          <tr>
            <td>Fibra di Legno</td>
            <td>0.038</td>
            <td><span class="badge badge-fair">Buona</span></td>
          </tr>
          <tr>
            <td>Sughero</td>
            <td>0.040</td>
            <td><span class="badge badge-fair">Buona</span></td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top: 15px; color: #718096; font-size: 13px;">
        <strong>Formula:</strong> R = spessore / Œª (la resistenza termica R rimane costante per materiali equivalenti)
      </p>
    </div>
  </div>

  <script>
    // Elementi DOM
    const mat1 = document.getElementById('mat1');
    const mat2 = document.getElementById('mat2');
    const lambda1Input = document.getElementById('lambda1');
    const lambda2Input = document.getElementById('lambda2');
    const spessore1Input = document.getElementById('spessore1');
    const range1 = document.getElementById('range1');
    const spessore2Display = document.getElementById('spessore2');
    const resistenzaDisplay = document.getElementById('resistenza');
    const risparmioDisplay = document.getElementById('risparmio');
    const differenzaDisplay = document.getElementById('differenza');
    const label1 = document.getElementById('label1');
    const label2 = document.getElementById('label2');
    const value1 = document.getElementById('value1');
    const value2 = document.getElementById('value2');
    const bar1 = document.getElementById('bar1');
    const bar2 = document.getElementById('bar2');

    // Funzione di calcolo
    function calcola() {
      const s1 = parseFloat(spessore1Input.value) || 100;
      const l1 = parseFloat(lambda1Input.value) || 0.031;
      const l2 = parseFloat(lambda2Input.value) || 0.002;

      // Calcolo resistenza termica R = spessore(m) / lambda
      const R = (s1 / 1000) / l1;

      // Calcolo spessore equivalente: s2 = R * lambda2
      const s2 = R * l2 * 1000; // in mm

      // Risparmio percentuale
      const risparmio = ((s1 - s2) / s1) * 100;

      // Differenza assoluta
      const diff = s1 - s2;

      // Aggiorna display
      spessore2Display.textContent = s2.toFixed(2) + ' mm';
      resistenzaDisplay.textContent = R.toFixed(3);
      risparmioDisplay.textContent = risparmio.toFixed(1) + '%';
      differenzaDisplay.textContent = diff.toFixed(1) + ' mm';

      // Aggiorna etichette
      const mat1Text = mat1.options[mat1.selectedIndex].text;
      const mat2Text = mat2.options[mat2.selectedIndex].text;
      label1.textContent = mat1Text;
      label2.textContent = mat2Text;
      value1.textContent = s1.toFixed(0) + ' mm';
      value2.textContent = s2.toFixed(2) + ' mm';

      // Aggiorna barre
      bar1.textContent = s1.toFixed(0) + ' mm';
      bar2.textContent = s2.toFixed(2) + ' mm';

      const percentuale = Math.min(100, (s2 / s1) * 100);
      bar2.style.width = percentuale + '%';
    }

    // Event listeners
    mat1.addEventListener('change', function() {
      lambda1Input.value = this.value;
      calcola();
    });

    mat2.addEventListener('change', function() {
      lambda2Input.value = this.value;
      calcola();
    });

    lambda1Input.addEventListener('input', calcola);
    lambda2Input.addEventListener('input', calcola);

    spessore1Input.addEventListener('input', function() {
      range1.value = this.value;
      calcola();
    });

    range1.addEventListener('input', function() {
      spessore1Input.value = this.value;
      calcola();
    });

    // Calcolo iniziale
    calcola();
  </script>
</body>
</html>
